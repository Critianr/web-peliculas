(this["webpackJsonpmovie-watchlist"]=this["webpackJsonpmovie-watchlist"]||[]).push([[0],{23:function(e,a,t){e.exports=t(37)},35:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){"use strict";t.r(a);var c=t(0),l=t.n(c),n=t(20),s=t.n(n),r=t(9),i=t(1),o=function(){return l.a.createElement("header",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"inner-content"},l.a.createElement("div",{className:"brand"},l.a.createElement("h1",null,"Web de Peliculas")),l.a.createElement("ul",{className:"nav-links"},l.a.createElement("li",null,l.a.createElement(r.b,{to:"/Vistas"},"Peliculas Vistas ",l.a.createElement("i",{class:"fas fa-eye"})," ")),l.a.createElement("li",null,l.a.createElement(r.b,{to:"/",className:"btn btn-main"},"Busqueda"))))))},m=t(12),u=t(11),d=t(14),E=t(6),p=function(e,a){switch(a.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(E.a)(Object(E.a)({},e),{},{peliculasVistas:[a.payload].concat(Object(d.a)(e.peliculasVistas))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(E.a)(Object(E.a)({},e),{},{peliculasVistas:e.peliculasVistas.filter((function(e){return e.id!==a.payload}))});case"ADD_MOVIE_TO_WATCHED":case"MOVE_TO_WATCHLIST":return Object(E.a)(Object(E.a)({},e),{},Object(u.a)({peliculasVistas:e.peliculasVistas.filter((function(e){return e.id!==a.payload.id}))},"peliculasVistas",[a.payload].concat(Object(d.a)(e.peliculasVistas))));case"REMOVE_FROM_WATCHED":return Object(E.a)(Object(E.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==a.payload}))});default:return e}},f={peliculasVistas:localStorage.getItem("peliculasVistas")?JSON.parse(localStorage.getItem("peliculasVistas")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},v=Object(c.createContext)(f),h=function(e){var a=Object(c.useReducer)(p,f),t=Object(m.a)(a,2),n=t[0],s=t[1];Object(c.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(n.peliculasVistas)),localStorage.setItem("watched",JSON.stringify(n.watched))}),[n]);return l.a.createElement(v.Provider,{value:{peliculasVistas:n.peliculasVistas,watched:n.watched,addMovieToWatchlist:function(e){s({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchlist:function(e){s({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){s({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToWatchlist:function(e){s({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){s({type:"REMOVE_FROM_WATCHED",payload:e})}}},e.children)},O=function(e){var a=e.type,t=e.movie,n=Object(c.useContext)(v),s=n.removeMovieFromWatchlist,r=n.addMovieToWatched,i=n.moveToWatchlist,o=n.removeFromWatched;return l.a.createElement("div",{className:"inner-card-controls"},"watchlist"===a&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"ctrl-btn",onClick:function(){return r(t)}},l.a.createElement("i",{className:"fa-fw far fa-eye"})),l.a.createElement("button",{className:"ctrl-btn",onClick:function(){return s(t.id)}},l.a.createElement("i",{className:"fa-fw fa fa-times"}))),"watched"===a&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"ctrl-btn",onClick:function(){return i(t)}},l.a.createElement("i",{className:"fa-fw far fa-eye-slash"})),l.a.createElement("button",{className:"ctrl-btn",onClick:function(){return o(t.id)}},l.a.createElement("i",{className:"fa-fw fa fa-times"}))))},b=function(e){var a=e.movie,t=e.type;return l.a.createElement("div",{className:"movie-card"},l.a.createElement("div",{className:"overlay"}),l.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200".concat(a.poster_path),alt:"".concat(a.title," Poster")}),l.a.createElement(O,{type:t,movie:a}))},N=function(){var e=Object(c.useContext)(v).peliculasVistas;return l.a.createElement("div",{className:"movie-page"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"header"},l.a.createElement("h1",{className:"heading"},"Pelicula Vista"),l.a.createElement("span",{className:"count-pill"},e.length," ",1===e.length?"Movie":"Movies")),e.length>0?l.a.createElement("div",{className:"movie-grid"},e.map((function(e){return l.a.createElement(b,{movie:e,key:e.id,type:"peliculasVistas"})}))):l.a.createElement("h2",{className:"no-movies"},"No has visto ninguna pelicula")))},g=t(22),V=t.n(g),y=function(e){var a=e.movie,t=Object(c.useContext)(v),n=t.addMovieToWatchlist,s=(t.addMovieToWatched,t.peliculasVistas),r=t.watched,i=s.find((function(e){return e.id===a.id})),o=r.find((function(e){return e.id===a.id})),m=!!i||!!o;return l.a.createElement("div",{className:"result-card"},l.a.createElement("div",{className:"poster-wrapper"},a.poster_path?l.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200".concat(a.poster_path),alt:"".concat(a.title," Poster")}):l.a.createElement("div",{className:"filler-poster"})),l.a.createElement("div",{className:"info"},l.a.createElement("div",{className:"header"},l.a.createElement("h3",{className:"title"},a.title),l.a.createElement("h4",{className:"release-date"},l.a.createElement(V.a,{format:"DD/MM/YYYY"},a.release_date))),l.a.createElement("div",{className:"controls"},l.a.createElement("button",{className:"btn",disabled:m,onClick:function(){return n(a)}},"Marcar como vistas"))))},_=function(){var e=Object(c.useState)(""),a=Object(m.a)(e,2),t=a[0],n=a[1],s=Object(c.useState)([]),r=Object(m.a)(s,2),i=r[0],o=r[1];return l.a.createElement("div",{className:"Busqueda-page"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"Busqueda-content"},l.a.createElement("div",{className:"input-wrapper"},l.a.createElement("input",{type:"text",placeholder:"Busqueda de Peliculas",value:t,onChange:function(e){e.preventDefault(),n(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=c978912fb46ea0658038ca141f934d90&language=en-US&page=1&include_adult=false&query=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?o([]):o(e.results),console.log(e)}))}})),i.length>0&&l.a.createElement("div",{className:"results"},i.map((function(e){return l.a.createElement("div",{key:e.id},l.a.createElement(y,{movie:e}))}))))))};t(35),t(36);var M=function(){return l.a.createElement(h,null,l.a.createElement(r.a,null,l.a.createElement(o,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/Vistas"},l.a.createElement(N,null)),l.a.createElement(i.a,{path:"/"},l.a.createElement(_,null)))))};s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(M,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.013e0763.chunk.js.map